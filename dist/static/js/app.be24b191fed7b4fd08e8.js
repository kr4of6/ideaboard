webpackJsonp([1],{"+lUJ":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("a",{attrs:{href:"https://github.com/kr4of6/ideaboard"}},[this._v("Github Link")])])}]};var o={name:"App",components:{AppHeader:n("VU/8")({name:"AppHeader"},s,!1,function(e){n("+lUJ")},"data-v-4495b507",null).exports}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view"),this._v(" "),t("app-header")],1)},staticRenderFns:[]};var c=n("VU/8")(o,a,!1,function(e){n("cELW")},null,null).exports,l=n("/ocq"),d=n("mtWM"),u=n.n(d),r={name:"AppHeader",data:function(){return{message:"",isMoving:!1,movingID:0,ideas:[]}},created:function(){this.getIdeas()},computed:{updateIdeas:function(){return this.getIdeas(),this.ideas}},methods:{unID:function(){var e=this;console.log("UN ID CALLED"),this.isMoving=!1,console.log(this.isMoving);var t=this.ideas.map(function(e){return e.id}).indexOf(this.movingID),n=this.ideas[t];u.a.put("/api/idea/location/"+n.id,{x:n.x,y:n.y}).then(function(t){e.getIdeas()}).catch(function(e){console.log(e)})},getID:function(e){this.isMoving=!0,this.movingID=e,console.log(e)},update:function(e){if(console.log("Update was called"),this.isMoving){console.log(e);var t=this.ideas.map(function(e){return e.id}).indexOf(this.movingID),n=this.ideas[t];n.y=e.pageY-30,n.x=e.pageX-40,console.log(n)}},saveIdea:function(){var e=this;console.log("Someone wants to save an idea"),""!==this.message?(this.ideas.length>14&&this.deleteSurplus(),u.a.post("/api/idea",{text:this.message,likes:0,dislikes:0,x:this.random(50,1e3),y:this.random(150,500)}).then(function(t){e.message="",e.getIdeas()}).catch(function(e){console.log(e)})):console.log("No can do")},getIdeas:function(){var e=this;u.a.get("/api/idea").then(function(t){e.ideas=t.data}).catch(function(e){console.log(e)})},like:function(e){var t=this;console.log("LIKE"),u.a.put("/api/idea/"+e.id,{likes:e.likes+1,dislikes:e.dislikes}).then(function(e){t.getIdeas()}).catch(function(e){console.log(e)})},dislike:function(e){var t=this;console.log("DISLIKE"),u.a.put("/api/idea/"+e.id,{likes:e.likes,dislikes:e.dislikes+1}).then(function(e){t.getIdeas()}).catch(function(e){console.log(e)})},random:function(e,t){return Math.floor(Math.random()*(t-e))+e},calcPosition:function(e){return{top:e.y+"px",left:e.x+"px"}},deleteSurplus:function(){var e=this;console.log("DELETE CALLED");for(var t=1e4,n=-1,i=0;i<this.ideas.length;i++){var s=this.ideas[i],o=s.likes-s.dislikes;o<t&&(t=o,n=i)}u.a.delete("/api/idea/"+this.ideas[n].id).then(function(t){e.getIdeas()}).catch(function(e){console.log(e)})}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._v("Tell us your idea:")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"add multiple lines"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),n("button",{on:{click:function(t){e.saveIdea()}}},[e._v("Add")]),e._v(" "),e._l(e.ideas,function(t){return n("div",{staticClass:"idea",style:e.calcPosition(t),on:{mousedown:function(n){e.getID(t.id)},mousemove:e.update,mouseup:e.unID}},[n("p",[e._v(e._s(t.text))]),e._v(" "),n("button",{on:{click:function(n){e.like(t)}}},[e._v("LIKE "+e._s(t.likes))]),e._v(" "),n("button",{on:{click:function(n){e.dislike(t)}}},[e._v("DISLIKE "+e._s(t.dislikes))])])})],2)},staticRenderFns:[]};var h=n("VU/8")(r,p,!1,function(e){n("bTU2")},"data-v-3e85ebc4",null).exports;i.a.use(l.a);var f=new l.a({routes:[{path:"/",name:"Board",component:h}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:f,components:{App:c},template:"<App/>"})},bTU2:function(e,t){},cELW:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.be24b191fed7b4fd08e8.js.map